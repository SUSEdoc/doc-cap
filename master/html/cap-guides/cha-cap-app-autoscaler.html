<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>App-AutoScaler | Deployment, Administration, and User Guides | SUSE Cloud Application Platform 2.1.1</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 3.2.0 (https://opensuse.github.io/daps) using SUSE XSL Stylesheets 2.81.0 (based on DocBook XSL Stylesheets 1.79.2) - chunked" /><meta name="product-name" content="SUSE Cloud Application Platform" /><meta name="product-number" content="2.1.1" /><meta name="book-title" content="Deployment, Administration, and User Guides" /><meta name="chapter-title" content="Chapter 23. App-AutoScaler" /><meta name="description" content="The App-AutoScaler service is used for automatically managing an application's instance count when deployed on KubeCF. The scaling behavior is determined by a set of criteria defined in a policy (See Section 23.4, “Policies”)." /><meta name="tracker-url" content="https://github.com/SUSE/doc-cap/issues/new" /><meta name="tracker-type" content="gh" /><meta name="tracker-gh-assignee" content="btat" /><meta name="tracker-gh-labels" content="bug,low priority" /><link rel="home" href="index.html" title="SUSE Cloud Application Platform 2.1.1 Documentation" /><link rel="up" href="part-cap-administration.html" title="Part III. SUSE Cloud Application Platform Administration" /><link rel="prev" href="cha-cap-service-brokers.html" title="Chapter 22. Service Brokers" /><link rel="next" href="cha-cap-credhub.html" title="Chapter 24. Integrating CredHub with SUSE Cloud Application Platform" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://static.opensuse.org/fonts/fonts.css"></link>');
}
else {
  document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="https://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #E11;"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Cloud Application Platform 2.1.1 Documentation"><span class="book-icon">SUSE Cloud Application Platform 2.1.1 Documentation</span></a><span> › </span><a class="crumb" href="book-cap-guides.html">Deployment, Administration, and User Guides</a><span> › </span><a class="crumb" href="part-cap-administration.html">SUSE Cloud Application Platform Administration</a><span> › </span><a class="crumb" href="cha-cap-app-autoscaler.html">App-AutoScaler</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Deployment, Administration, and User Guides</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="preface-deployment.html"><span class="number"> </span><span class="name">About This Guide</span></a></li><li class="inactive"><a href="part-cap-overview.html"><span class="number">I </span><span class="name">Overview of SUSE Cloud Application Platform</span></a><ol><li class="inactive"><a href="cha-cap-overview.html"><span class="number">1 </span><span class="name">About SUSE Cloud Application Platform</span></a></li><li class="inactive"><a href="cha-cap-depl-kube-requirements.html"><span class="number">2 </span><span class="name">Other Kubernetes Systems</span></a></li></ol></li><li class="inactive"><a href="part-cap-deployment.html"><span class="number">II </span><span class="name">Deploying SUSE Cloud Application Platform</span></a><ol><li class="inactive"><a href="cha-cap-depl-notes.html"><span class="number">3 </span><span class="name">Deployment and Administration Notes</span></a></li><li class="inactive"><a href="cha-cap-depl-caasp.html"><span class="number">4 </span><span class="name">Deploying SUSE Cloud Application Platform on SUSE CaaS Platform</span></a></li><li class="inactive"><a href="cha-cap-depl-aks.html"><span class="number">5 </span><span class="name">Deploying SUSE Cloud Application Platform on Microsoft Azure Kubernetes Service (AKS)</span></a></li><li class="inactive"><a href="cha-cap-depl-eks.html"><span class="number">6 </span><span class="name">Deploying SUSE Cloud Application Platform on Amazon Elastic Kubernetes Service (EKS)</span></a></li><li class="inactive"><a href="cha-cap-depl-gke.html"><span class="number">7 </span><span class="name">Deploying SUSE Cloud Application Platform on Google Kubernetes Engine (GKE)</span></a></li><li class="inactive"><a href="cha-cap-install-stratos.html"><span class="number">8 </span><span class="name">Installing the Stratos Web Console</span></a></li><li class="inactive"><a href="cha-cap-depl-eirini.html"><span class="number">9 </span><span class="name">Eirini</span></a></li><li class="inactive"><a href="cha-cap-depl-terraform.html"><span class="number">10 </span><span class="name">Deploying SUSE Cloud Application Platform Using Terraform</span></a></li><li class="inactive"><a href="cha-cap-depl-air-gap-registry.html"><span class="number">11 </span><span class="name">Setting Up a Registry for an Air Gapped Environment</span></a></li><li class="inactive"><a href="cha-cap-depl-private-registry.html"><span class="number">12 </span><span class="name">SUSE Private Registry</span></a></li></ol></li><li class="inactive"><a href="part-cap-administration.html"><span class="number">III </span><span class="name">SUSE Cloud Application Platform Administration</span></a><ol><li class="inactive"><a href="cha-cap-upgrade.html"><span class="number">13 </span><span class="name">Upgrading SUSE Cloud Application Platform</span></a></li><li class="inactive"><a href="cha-cap-configuration-changes.html"><span class="number">14 </span><span class="name">Configuration Changes</span></a></li><li class="inactive"><a href="cha-cap-create-admin-user.html"><span class="number">15 </span><span class="name">Creating Admin Users</span></a></li><li class="inactive"><a href="cha-cap-manage-passwords.html"><span class="number">16 </span><span class="name">Managing Passwords</span></a></li><li class="inactive"><a href="cha-cap-uaa-ui.html"><span class="number">17 </span><span class="name">Accessing the UAA User Interface</span></a></li><li class="inactive"><a href="cha-cap-memory-limits.html"><span class="number">18 </span><span class="name">Container Memory Limits and Requests</span></a></li><li class="inactive"><a href="cha-cap-ccdb-secret-rotation.html"><span class="number">19 </span><span class="name">Cloud Controller Database Secret Rotation</span></a></li><li class="inactive"><a href="cha-cap-secrets-rotation.html"><span class="number">20 </span><span class="name">Rotating Automatically Generated Secrets</span></a></li><li class="inactive"><a href="cha-cap-backup-restore.html"><span class="number">21 </span><span class="name">Backup and Restore</span></a></li><li class="inactive"><a href="cha-cap-service-brokers.html"><span class="number">22 </span><span class="name">Service Brokers</span></a></li><li class="inactive"><a href="cha-cap-app-autoscaler.html"><span class="number">23 </span><span class="name">App-AutoScaler</span></a></li><li class="inactive"><a href="cha-cap-credhub.html"><span class="number">24 </span><span class="name">Integrating CredHub with SUSE Cloud Application Platform</span></a></li><li class="inactive"><a href="cha-cap-buildpacks.html"><span class="number">25 </span><span class="name">Buildpacks</span></a></li></ol></li><li class="inactive"><a href="part-cap-user-guide.html"><span class="number">IV </span><span class="name">SUSE Cloud Application Platform User Guide</span></a><ol><li class="inactive"><a href="cha-cap-cf-cli.html"><span class="number">26 </span><span class="name">Deploying and Managing Applications with the Cloud Foundry Client</span></a></li></ol></li><li class="inactive"><a href="part-cap-troubleshooting.html"><span class="number">V </span><span class="name">Troubleshooting</span></a><ol><li class="inactive"><a href="cha-cap-depl-troubleshooting.html"><span class="number">27 </span><span class="name">Troubleshooting</span></a></li></ol></li><li class="inactive"><a href="bk01apa.html"><span class="number">A </span><span class="name">Appendix</span></a></li><li class="inactive"><a href="bk01apb.html"><span class="number">B </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 22. Service Brokers" href="cha-cap-service-brokers.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 24. Integrating CredHub with SUSE Cloud Application Platform" href="cha-cap-credhub.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" style="background-color: #E11;" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Cloud Application Platform 2.1.1 Documentation"><span class="book-icon">SUSE Cloud Application Platform 2.1.1 Documentation</span></a><span> › </span><a class="crumb" href="book-cap-guides.html">Deployment, Administration, and User Guides</a><span> › </span><a class="crumb" href="part-cap-administration.html">SUSE Cloud Application Platform Administration</a><span> › </span><a class="crumb" href="cha-cap-app-autoscaler.html">App-AutoScaler</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 22. Service Brokers" href="cha-cap-service-brokers.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 24. Integrating CredHub with SUSE Cloud Application Platform" href="cha-cap-credhub.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha-cap-app-autoscaler"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname ">SUSE Cloud Application Platform</span> <span class="productnumber ">2.1.1</span></div><div><h2 class="title"><span class="number">23 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">App-AutoScaler</span> <a title="Permalink" class="permalink" href="cha-cap-app-autoscaler.html#">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>cap_admin_app_autoscaler.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha-cap-app-autoscaler.html#sec-cap-app-autoscaler-prereqs"><span class="number">23.1 </span><span class="name">Prerequisites</span></a></span></dt><dt><span class="sect1"><a href="cha-cap-app-autoscaler.html#sec-cap-enable-app-autoscaler"><span class="number">23.2 </span><span class="name">Enabling and Disabling the App-AutoScaler Service</span></a></span></dt><dt><span class="sect1"><a href="cha-cap-app-autoscaler.html#sec-cap-app-autoscaler-usage"><span class="number">23.3 </span><span class="name">Using the App-AutoScaler Service</span></a></span></dt><dt><span class="sect1"><a href="cha-cap-app-autoscaler.html#sec-cap-app-autoscaler-policies"><span class="number">23.4 </span><span class="name">Policies</span></a></span></dt></dl></div></div><p>
  The App-AutoScaler service is used for automatically managing an
  application's instance count when deployed on KubeCF. The scaling behavior is
  determined by a set of criteria defined in a policy (See
  <a class="xref" href="cha-cap-app-autoscaler.html#sec-cap-app-autoscaler-policies" title="23.4. Policies">Section 23.4, “Policies”</a>).
 </p><div class="sect1 " id="sec-cap-app-autoscaler-prereqs"><div class="titlepage"><div><div><h2 class="title"><span class="number">23.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Prerequisites</span> <a title="Permalink" class="permalink" href="cha-cap-app-autoscaler.html#sec-cap-app-autoscaler-prereqs">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>cap_admin_app_autoscaler.xml</li><li><span class="ds-label">ID: </span>sec-cap-app-autoscaler-prereqs</li></ul></div></div></div></div><p>
   Using the App-AutoScaler service requires:
  </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     A running deployment of <code class="literal">kubecf</code>
    </p></li><li class="listitem "><p>
 <code class="command">cf</code>, the Cloud Foundry command line interface. For more information,
 see <a class="link" href="https://docs.cloudfoundry.org/cf-cli/" target="_blank">https://docs.cloudfoundry.org/cf-cli/</a>.
</p><p>
 For SUSE Linux Enterprise and openSUSE systems, install using <code class="command">zypper</code>.
</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>sudo zypper install cf-cli</pre></div><p>
 For SLE, ensure the SUSE Cloud Application Platform Tools Module has been added. Add the
 module using YaST or SUSEConnect.
</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>SUSEConnect --product sle-module-cap-tools/15.1/x86_64</pre></div><p>
 For other systems, follow the instructions at
 <a class="link" href="https://docs.cloudfoundry.org/cf-cli/install-go-cli.html" target="_blank">https://docs.cloudfoundry.org/cf-cli/install-go-cli.html</a>.
</p></li><li class="listitem "><p>
     The Cloud Foundry CLI AutoScaler Plug-in, see <a class="link" href="https://github.com/cloudfoundry/app-autoscaler-cli-plugin" target="_blank">https://github.com/cloudfoundry/app-autoscaler-cli-plugin</a>
    </p><p>
     The plugin can be installed by running the following command:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>cf install-plugin -r <em class="replaceable ">CF-Community</em> app-autoscaler-plugin</pre></div><p>
      If the plugin repo is not found, add it first:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>cf add-plugin-repo <em class="replaceable ">CF-Community</em> https://plugins.cloudfoundry.org</pre></div></li></ul></div></div><div class="sect1 " id="sec-cap-enable-app-autoscaler"><div class="titlepage"><div><div><h2 class="title"><span class="number">23.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Enabling and Disabling the App-AutoScaler Service</span> <a title="Permalink" class="permalink" href="cha-cap-app-autoscaler.html#sec-cap-enable-app-autoscaler">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>cap_admin_app_autoscaler.xml</li><li><span class="ds-label">ID: </span>sec-cap-enable-app-autoscaler</li></ul></div></div></div></div><p>
   App-AutoScaler is disabled by default. To enable it, add the following
   block to your <code class="filename">kubecf-config-values.yaml</code> file.
  </p><div class="verbatim-wrap"><pre class="screen">features:
  autoscaler:
    enabled: true</pre></div><p>
   To disable App-AutoScaler again, update the above block in your <code class="filename">kubecf-config-values.yaml</code>
   so that <code class="literal">enabled</code> is set to <code class="literal">false</code>.
  </p><p>
  After making the change above, and any other configuration changes, apply the
   update by doing the following:
  </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     For an initial deployment, continue to the deployment steps for your platform:
    </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
       For SUSE CaaS Platform, see <a class="xref" href="cha-cap-depl-caasp.html#sec-cap-cap-on-caasp" title="4.13. Deploying SUSE Cloud Application Platform">Section 4.13, “Deploying SUSE Cloud Application Platform”</a>.
      </p></li><li class="listitem "><p>
       For Microsoft AKS, see <a class="xref" href="cha-cap-depl-aks.html#sec-cap-cap-on-aks" title="5.13. Deploying SUSE Cloud Application Platform">Section 5.13, “Deploying SUSE Cloud Application Platform”</a>.
      </p></li><li class="listitem "><p>
       For Amazon EKS, see <a class="xref" href="cha-cap-depl-eks.html#sec-cap-cap-on-eks" title="6.13. Deploying SUSE Cloud Application Platform">Section 6.13, “Deploying SUSE Cloud Application Platform”</a>.
      </p></li><li class="listitem "><p>
       For Google GKE, see <a class="xref" href="cha-cap-depl-gke.html#sec-cap-cap-on-gke" title="7.14. Deploying SUSE Cloud Application Platform">Section 7.14, “Deploying SUSE Cloud Application Platform”</a>.
      </p></li></ul></div></li><li class="listitem "><p>
     For an existing deployment, use <code class="command">helm upgrade</code> to apply
     the change.
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>helm upgrade <em class="replaceable ">kubecf</em> suse/kubecf \
--namespace <em class="replaceable ">kubecf</em> \
--values <em class="replaceable ">kubecf-config-values.yaml</em> \
--version 2.7.13</pre></div></li></ul></div></div><div class="sect1 " id="sec-cap-app-autoscaler-usage"><div class="titlepage"><div><div><h2 class="title"><span class="number">23.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Using the App-AutoScaler Service</span> <a title="Permalink" class="permalink" href="cha-cap-app-autoscaler.html#sec-cap-app-autoscaler-usage">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>cap_admin_app_autoscaler.xml</li><li><span class="ds-label">ID: </span>sec-cap-app-autoscaler-usage</li></ul></div></div></div></div><p>
   Push the application without starting it
   first:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>cf push <em class="replaceable ">MY_APPLICATION</em> --no-start</pre></div><p>
   Attach autoscaling policy to the application:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>cf attach-autoscaling-policy <em class="replaceable ">MY_APPLICATION</em> <em class="replaceable ">MY_POLICY.json</em></pre></div><p>
    The policy is defined as a JSON file
    (See <a class="xref" href="cha-cap-app-autoscaler.html#sec-cap-app-autoscaler-policies" title="23.4. Policies">Section 23.4, “Policies”</a>) in a proper format
    (See <a class="link" href="https://github.com/cloudfoundry/app-autoscaler/blob/develop/docs/policy.md" target="_blank">https://github.com/cloudfoundry/app-autoscaler/blob/develop/docs/policy.md</a>).
  </p><p>
   Start the application:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>cf start <em class="replaceable ">MY_APPLICATION</em></pre></div><p>
   Autoscaling policies can be managed using cf CLI with the App-AutoScaler plugin
   as above (See <a class="xref" href="cha-cap-app-autoscaler.html#sec-cap-app-autoscaler-cli" title="23.3.1. The App-AutoScaler cf CLI Plugin">Section 23.3.1, “The App-AutoScaler cf CLI Plugin”</a>) or using the
   App-AutoScaler API (See <a class="xref" href="cha-cap-app-autoscaler.html#sec-cap-app-autoscaler-api" title="23.3.2. App-AutoScaler API">Section 23.3.2, “App-AutoScaler API”</a>).
  </p><div class="sect2 " id="sec-cap-app-autoscaler-cli"><div class="titlepage"><div><div><h3 class="title"><span class="number">23.3.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">The App-AutoScaler cf CLI Plugin</span> <a title="Permalink" class="permalink" href="cha-cap-app-autoscaler.html#sec-cap-app-autoscaler-cli">#</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>cap_admin_app_autoscaler.xml</li><li><span class="ds-label">ID: </span>sec-cap-app-autoscaler-cli</li></ul></div></div></div></div><p>
    The App-AutoScaler plugin is used for managing the service with your
    applications and provides the following commands (with shortcuts in brackets). Refer to <a class="link" href="https://github.com/cloudfoundry/app-autoscaler-cli-plugin#command-list" target="_blank">https://github.com/cloudfoundry/app-autoscaler-cli-plugin#command-list</a> for details about each command:
   </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.3.5.13.5.10.3.1"><span class="term ">autoscaling-api (asa)</span></dt><dd><p>
       Set or view AutoScaler service API endpoint. See <a class="link" href="https://github.com/cloudfoundry/app-autoscaler-cli-plugin#cf-autoscaling-api" target="_blank">https://github.com/cloudfoundry/app-autoscaler-cli-plugin#cf-autoscaling-api</a> for more information.
      </p></dd><dt id="id-1.3.5.13.5.10.3.2"><span class="term ">autoscaling-policy (asp)</span></dt><dd><p>
       Retrieve the scaling policy of an application. See <a class="link" href="https://github.com/cloudfoundry/app-autoscaler-cli-plugin#cf-autoscaling-policy" target="_blank">https://github.com/cloudfoundry/app-autoscaler-cli-plugin#cf-autoscaling-policy</a> for more information.
      </p></dd><dt id="id-1.3.5.13.5.10.3.3"><span class="term ">attach-autoscaling-policy (aasp)</span></dt><dd><p>
       Attach a scaling policy to an application. See <a class="link" href="https://github.com/cloudfoundry/app-autoscaler-cli-plugin#cf-attach-autoscaling-policy" target="_blank">https://github.com/cloudfoundry/app-autoscaler-cli-plugin#cf-attach-autoscaling-policy</a> for more information.
      </p></dd><dt id="id-1.3.5.13.5.10.3.4"><span class="term ">detach-autoscaling-policy (dasp)</span></dt><dd><p>
       Detach the scaling policy from an application. See <a class="link" href="https://github.com/cloudfoundry/app-autoscaler-cli-plugin#cf-detach-autoscaling-policy" target="_blank">https://github.com/cloudfoundry/app-autoscaler-cli-plugin#cf-detach-autoscaling-policy</a> for more information.
      </p></dd><dt id="id-1.3.5.13.5.10.3.5"><span class="term ">create-autoscaling-credential (casc)</span></dt><dd><p>
       Create custom metric credential for an application. See <a class="link" href="https://github.com/cloudfoundry/app-autoscaler-cli-plugin#cf-create-autoscaling-credential" target="_blank">https://github.com/cloudfoundry/app-autoscaler-cli-plugin#cf-create-autoscaling-credential</a> for more information.
      </p></dd><dt id="id-1.3.5.13.5.10.3.6"><span class="term ">delete-autoscaling-credential (dasc)</span></dt><dd><p>
        Delete the custom metric credential of an application.
        See <a class="link" href="https://github.com/cloudfoundry/app-autoscaler-cli-plugin#cf-delete-autoscaling-credential" target="_blank">https://github.com/cloudfoundry/app-autoscaler-cli-plugin#cf-delete-autoscaling-credential</a> for more information.
      </p></dd><dt id="id-1.3.5.13.5.10.3.7"><span class="term ">autoscaling-metrics (asm)</span></dt><dd><p>
       Retrieve the metrics of an application. See <a class="link" href="https://github.com/cloudfoundry/app-autoscaler-cli-plugin#cf-autoscaling-metrics" target="_blank">https://github.com/cloudfoundry/app-autoscaler-cli-plugin#cf-autoscaling-metrics</a> for more information.
      </p></dd><dt id="id-1.3.5.13.5.10.3.8"><span class="term ">autoscaling-history (ash)</span></dt><dd><p>
       Retrieve the scaling history of an application. See <a class="link" href="https://github.com/cloudfoundry/app-autoscaler-cli-plugin#cf-autoscaling-history" target="_blank">https://github.com/cloudfoundry/app-autoscaler-cli-plugin#cf-autoscaling-history</a> for more information.
      </p></dd></dl></div></div><div class="sect2 " id="sec-cap-app-autoscaler-api"><div class="titlepage"><div><div><h3 class="title"><span class="number">23.3.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">App-AutoScaler API</span> <a title="Permalink" class="permalink" href="cha-cap-app-autoscaler.html#sec-cap-app-autoscaler-api">#</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>cap_admin_app_autoscaler.xml</li><li><span class="ds-label">ID: </span>sec-cap-app-autoscaler-api</li></ul></div></div></div></div><p>
    The App-AutoScaler service provides a
    Public
    API with detailed usage information, see <a class="link" href="https://github.com/cloudfoundry/app-autoscaler/blob/develop/docs/Public_API.rst" target="_blank">https://github.com/cloudfoundry/app-autoscaler/blob/develop/docs/Public_API.rst</a>. It includes requests to:
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      List scaling history of an application. For details, refer to <a class="link" href="https://github.com/cloudfoundry/app-autoscaler/blob/develop/docs/Public_API.rst#list-scaling-history-of-an-application" target="_blank">https://github.com/cloudfoundry/app-autoscaler/blob/develop/docs/Public_API.rst#list-scaling-history-of-an-application</a>
     </p></li><li class="listitem "><p>
      List instance metrics of an application. For details, refer to <a class="link" href="https://github.com/cloudfoundry/app-autoscaler/blob/develop/docs/Public_API.rst#list-instance-metrics-of-an-application" target="_blank">https://github.com/cloudfoundry/app-autoscaler/blob/develop/docs/Public_API.rst#list-instance-metrics-of-an-application</a>
     </p></li><li class="listitem "><p>
      List aggregated metrics of an application. For details, refer to <a class="link" href="https://github.com/cloudfoundry/app-autoscaler/blob/develop/docs/Public_API.rst#list-aggregated-metrics-of-an-application" target="_blank">https://github.com/cloudfoundry/app-autoscaler/blob/develop/docs/Public_API.rst#list-aggregated-metrics-of-an-application</a>
     </p></li><li class="listitem "><p>
      Policy api. For details, refer to <a class="link" href="https://github.com/cloudfoundry/app-autoscaler/blob/develop/docs/Public_API.rst#policy-api" target="_blank">https://github.com/cloudfoundry/app-autoscaler/blob/develop/docs/Public_API.rst#policy-api</a>
     </p></li><li class="listitem "><p>
      Delete policy. For details, refer to <a class="link" href="https://github.com/cloudfoundry/app-autoscaler/blob/develop/docs/Public_API.rst#delete-policy" target="_blank">https://github.com/cloudfoundry/app-autoscaler/blob/develop/docs/Public_API.rst#delete-policy</a>
     </p></li><li class="listitem "><p>
      Get policy. For details, refer to <a class="link" href="https://github.com/cloudfoundry/app-autoscaler/blob/develop/docs/Public_API.rst#get-policy" target="_blank">https://github.com/cloudfoundry/app-autoscaler/blob/develop/docs/Public_API.rst#get-policy</a>
     </p></li></ul></div></div></div><div class="sect1 " id="sec-cap-app-autoscaler-policies"><div class="titlepage"><div><div><h2 class="title"><span class="number">23.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Policies</span> <a title="Permalink" class="permalink" href="cha-cap-app-autoscaler.html#sec-cap-app-autoscaler-policies">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>cap_admin_app_autoscaler.xml</li><li><span class="ds-label">ID: </span>sec-cap-app-autoscaler-policies</li></ul></div></div></div></div><p>
   A policy identifies characteristics including minimum instance count,
   maximum instance count, and the rules used to determine when the number of
   application instances is scaled up or down. These rules are categorized into
   two types, scheduled scaling and dynamic scaling. (See
   <a class="xref" href="cha-cap-app-autoscaler.html#sec-cap-app-autoscaler-scaling-types" title="23.4.1. Scaling Types">Section 23.4.1, “Scaling Types”</a>). Multiple scaling
   rules can be specified in a policy, but App-AutoScaler does not detect or
   handle conflicts that may occur. Ensure there are no conflicting rules to
   avoid unintended scaling behavior.
  </p><p>
   Policies are defined using the JSON format and can be attached to an
   application either by passing the path to the policy file or directly as a
   parameter.
  </p><p>
   The following is an example of a policy file, called
   <code class="filename">my-policy.json</code>.
  </p><div class="verbatim-wrap"><pre class="screen">{
    "instance_min_count": 1,
    "instance_max_count": 4,
    "scaling_rules": [{
        "metric_type": "memoryused",
        "stat_window_secs": 60,
        "breach_duration_secs": 60,
        "threshold": 10,
        "operator": "&gt;=",
        "cool_down_secs": 300,
        "adjustment": "+1"
    }]
}</pre></div><p>
   For an example that demonstrates defining multiple scaling rules in a single
   policy, refer to the sample of a policy file at <a class="link" href="https://github.com/cloudfoundry/app-autoscaler/blob/develop/src/integration/fakePolicyWithSchedule.json" target="_blank">https://github.com/cloudfoundry/app-autoscaler/blob/develop/src/integration/fakePolicyWithSchedule.json</a>. The complete list of configurable policy values can be
   found at
   <a class="link" href="https://github.com/cloudfoundry/app-autoscaler/blob/master/docs/policy.md" target="_blank">https://github.com/cloudfoundry/app-autoscaler/blob/master/docs/policy.md</a>.
  </p><div class="sect2 " id="sec-cap-app-autoscaler-scaling-types"><div class="titlepage"><div><div><h3 class="title"><span class="number">23.4.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Scaling Types</span> <a title="Permalink" class="permalink" href="cha-cap-app-autoscaler.html#sec-cap-app-autoscaler-scaling-types">#</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>cap_admin_app_autoscaler.xml</li><li><span class="ds-label">ID: </span>sec-cap-app-autoscaler-scaling-types</li></ul></div></div></div></div><div class="variablelist "><dl class="variablelist"><dt id="id-1.3.5.13.6.7.2.1"><span class="term ">Scheduled Scaling</span></dt><dd><p>
       Modifies an application's instance count at a predetermined time. This
       option is suitable for workloads with predictable resource usage.
      </p></dd><dt id="id-1.3.5.13.6.7.2.2"><span class="term ">Dynamic Scaling</span></dt><dd><p>
       Modifies an application's instance count based on metrics criteria. This
       option is suitable for workloads with dynamic resource usage. The
       following metrics are available:
      </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
         memoryused
        </p></li><li class="listitem "><p>
         memoryutil
        </p></li><li class="listitem "><p>
         cpu
        </p></li><li class="listitem "><p>
         responsetime
        </p></li><li class="listitem "><p>
         throughput
        </p></li><li class="listitem "><p>
         custom metric
        </p></li></ul></div></dd></dl></div><p>
    See
    <a class="link" href="https://github.com/cloudfoundry/app-autoscaler/tree/develop/docs#scaling-type" target="_blank">https://github.com/cloudfoundry/app-autoscaler/tree/develop/docs#scaling-type</a> for additional details.
   </p></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha-cap-credhub.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 24 </span>Integrating CredHub with SUSE Cloud Application Platform</span></a><a class="nav-link" href="cha-cap-service-brokers.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 22 </span>Service Brokers</span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2021 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>
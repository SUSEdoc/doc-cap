<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Eirini | Deployment, Administration, and User Guides | SUSE Cloud Application Platform 2.1.1</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 3.0.0 (https://opensuse.github.io/daps) using SUSE XSL Stylesheets 2.0.17 (based on DocBook XSL Stylesheets 1.79.2) - chunked" /><meta name="product-name" content="SUSE Cloud Application Platform" /><meta name="product-number" content="2.1.1" /><meta name="book-title" content="Deployment, Administration, and User Guides" /><meta name="chapter-title" content="Chapter 9. Eirini" /><meta name="description" content="Eirini, an alternative to Diego, is a scheduler for the Cloud Foundry Application Runtime (CFAR) that runs Cloud Foundry user applications in Kubernetes. For details about Eirini, see https://www.cloudfoundry.org/project-eirini/ and http://eirini.cf" /><meta name="tracker-url" content="https://github.com/SUSE/doc-cap/issues/new" /><meta name="tracker-type" content="gh" /><meta name="tracker-gh-assignee" content="btat" /><meta name="tracker-gh-labels" content="bug,low priority" /><link rel="home" href="index.html" title="SUSE Cloud Application Platform 2.1.1 Documentation" /><link rel="up" href="part-cap-deployment.html" title="Part II. Deploying SUSE Cloud Application Platform" /><link rel="prev" href="cha-cap-install-stratos.html" title="Chapter 8. Installing the Stratos Web Console" /><link rel="next" href="cha-cap-depl-terraform.html" title="Chapter 10. Deploying SUSE Cloud Application Platform Using Terraform" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://static.opensuse.org/fonts/fonts.css"></link>');
}
else {
  document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="https://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #FABEBE;"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Cloud Application Platform 2.1.1 Documentation"><span class="book-icon">SUSE Cloud Application Platform 2.1.1 Documentation</span></a><span> › </span><a class="crumb" href="book-cap-guides.html">Deployment, Administration, and User Guides</a><span> › </span><a class="crumb" href="part-cap-deployment.html">Deploying SUSE Cloud Application Platform</a><span> › </span><a class="crumb" href="cha-cap-depl-eirini.html">Eirini</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Deployment, Administration, and User Guides</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="preface-deployment.html"><span class="number"> </span><span class="name">About This Guide</span></a></li><li class="inactive"><a href="part-cap-overview.html"><span class="number">I </span><span class="name">Overview of SUSE Cloud Application Platform</span></a><ol><li class="inactive"><a href="cha-cap-overview.html"><span class="number">1 </span><span class="name">About SUSE Cloud Application Platform</span></a></li><li class="inactive"><a href="cha-cap-depl-kube-requirements.html"><span class="number">2 </span><span class="name">Other Kubernetes Systems</span></a></li></ol></li><li class="inactive"><a href="part-cap-deployment.html"><span class="number">II </span><span class="name">Deploying SUSE Cloud Application Platform</span></a><ol><li class="inactive"><a href="cha-cap-depl-notes.html"><span class="number">3 </span><span class="name">Deployment and Administration Notes</span></a></li><li class="inactive"><a href="cha-cap-depl-caasp.html"><span class="number">4 </span><span class="name">Deploying SUSE Cloud Application Platform on SUSE CaaS Platform</span></a></li><li class="inactive"><a href="cha-cap-depl-aks.html"><span class="number">5 </span><span class="name">Deploying SUSE Cloud Application Platform on Microsoft Azure Kubernetes Service (AKS)</span></a></li><li class="inactive"><a href="cha-cap-depl-eks.html"><span class="number">6 </span><span class="name">Deploying SUSE Cloud Application Platform on Amazon Elastic Kubernetes Service (EKS)</span></a></li><li class="inactive"><a href="cha-cap-depl-gke.html"><span class="number">7 </span><span class="name">Deploying SUSE Cloud Application Platform on Google Kubernetes Engine (GKE)</span></a></li><li class="inactive"><a href="cha-cap-install-stratos.html"><span class="number">8 </span><span class="name">Installing the Stratos Web Console</span></a></li><li class="inactive"><a href="cha-cap-depl-eirini.html"><span class="number">9 </span><span class="name">Eirini</span></a></li><li class="inactive"><a href="cha-cap-depl-terraform.html"><span class="number">10 </span><span class="name">Deploying SUSE Cloud Application Platform Using Terraform</span></a></li><li class="inactive"><a href="cha-cap-depl-air-gap-registry.html"><span class="number">11 </span><span class="name">Setting Up a Registry for an Air Gapped Environment</span></a></li><li class="inactive"><a href="cha-cap-depl-private-registry.html"><span class="number">12 </span><span class="name">SUSE Private Registry</span></a></li></ol></li><li class="inactive"><a href="part-cap-administration.html"><span class="number">III </span><span class="name">SUSE Cloud Application Platform Administration</span></a><ol><li class="inactive"><a href="cha-cap-upgrade.html"><span class="number">13 </span><span class="name">Upgrading SUSE Cloud Application Platform</span></a></li><li class="inactive"><a href="cha-cap-configuration-changes.html"><span class="number">14 </span><span class="name">Configuration Changes</span></a></li><li class="inactive"><a href="cha-cap-create-admin-user.html"><span class="number">15 </span><span class="name">Creating Admin Users</span></a></li><li class="inactive"><a href="cha-cap-manage-passwords.html"><span class="number">16 </span><span class="name">Managing Passwords</span></a></li><li class="inactive"><a href="cha-cap-uaa-ui.html"><span class="number">17 </span><span class="name">Accessing the UAA User Interface</span></a></li><li class="inactive"><a href="cha-cap-memory-limits.html"><span class="number">18 </span><span class="name">Container Memory Limits and Requests</span></a></li><li class="inactive"><a href="cha-cap-ccdb-secret-rotation.html"><span class="number">19 </span><span class="name">Cloud Controller Database Secret Rotation</span></a></li><li class="inactive"><a href="cha-cap-secrets-rotation.html"><span class="number">20 </span><span class="name">Rotating Automatically Generated Secrets</span></a></li><li class="inactive"><a href="cha-cap-backup-restore.html"><span class="number">21 </span><span class="name">Backup and Restore</span></a></li><li class="inactive"><a href="cha-cap-service-brokers.html"><span class="number">22 </span><span class="name">Service Brokers</span></a></li><li class="inactive"><a href="cha-cap-app-autoscaler.html"><span class="number">23 </span><span class="name">App-AutoScaler</span></a></li><li class="inactive"><a href="cha-cap-credhub.html"><span class="number">24 </span><span class="name">Integrating CredHub with SUSE Cloud Application Platform</span></a></li><li class="inactive"><a href="cha-cap-buildpacks.html"><span class="number">25 </span><span class="name">Buildpacks</span></a></li></ol></li><li class="inactive"><a href="part-cap-user-guide.html"><span class="number">IV </span><span class="name">SUSE Cloud Application Platform User Guide</span></a><ol><li class="inactive"><a href="cha-cap-cf-cli.html"><span class="number">26 </span><span class="name">Deploying and Managing Applications with the Cloud Foundry Client</span></a></li></ol></li><li class="inactive"><a href="part-cap-troubleshooting.html"><span class="number">V </span><span class="name">Troubleshooting</span></a><ol><li class="inactive"><a href="cha-cap-depl-troubleshooting.html"><span class="number">27 </span><span class="name">Troubleshooting</span></a></li></ol></li><li class="inactive"><a href="bk01apa.html"><span class="number">A </span><span class="name">Appendix</span></a></li><li class="inactive"><a href="bk01apb.html"><span class="number">B </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 8. Installing the Stratos Web Console" href="cha-cap-install-stratos.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 10. Deploying SUSE Cloud Application Platform Using Terraform" href="cha-cap-depl-terraform.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" style="background-color: #FABEBE;" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Cloud Application Platform 2.1.1 Documentation"><span class="book-icon">SUSE Cloud Application Platform 2.1.1 Documentation</span></a><span> › </span><a class="crumb" href="book-cap-guides.html">Deployment, Administration, and User Guides</a><span> › </span><a class="crumb" href="part-cap-deployment.html">Deploying SUSE Cloud Application Platform</a><span> › </span><a class="crumb" href="cha-cap-depl-eirini.html">Eirini</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 8. Installing the Stratos Web Console" href="cha-cap-install-stratos.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 10. Deploying SUSE Cloud Application Platform Using Terraform" href="cha-cap-depl-terraform.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha-cap-depl-eirini"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname ">SUSE Cloud Application Platform</span> <span class="productnumber ">2.1.1</span></div><div><h2 class="title"><span class="number">9 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Eirini</span> <a title="Permalink" class="permalink" href="cha-cap-depl-eirini.html#">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>cap_depl_eirini.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha-cap-depl-eirini.html#sec-cap-eirini-considerations"><span class="number">9.1 </span><span class="name">Limitations and Other Considerations</span></a></span></dt><dt><span class="sect1"><a href="cha-cap-depl-eirini.html#sec-cap-eirini-enable"><span class="number">9.2 </span><span class="name">Enabling Eirini</span></a></span></dt></dl></div></div><p>
  Eirini, an alternative to Diego, is a scheduler for the Cloud Foundry Application
  Runtime (CFAR) that runs Cloud Foundry user applications in Kubernetes. For details about
  Eirini, see <a class="link" href="https://www.cloudfoundry.org/project-eirini/" target="_blank">https://www.cloudfoundry.org/project-eirini/</a>
  and <a class="link" href="http://eirini.cf" target="_blank">http://eirini.cf</a>
 </p><p>
  Different schedulers and stacks have different memory requirements for
  applications. Not every combination is tested so there is no universal memory
  setting for Cloud Application Platform, and because it depends on the application deployed, it is
  up to the user to adjust the setting based on their application.
 </p><div class="sect1 " id="sec-cap-eirini-considerations"><div class="titlepage"><div><div><h2 class="title"><span class="number">9.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Limitations and Other Considerations</span> <a title="Permalink" class="permalink" href="cha-cap-depl-eirini.html#sec-cap-eirini-considerations">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>cap_depl_eirini.xml</li><li><span class="ds-label">ID: </span>sec-cap-eirini-considerations</li></ul></div></div></div></div><p>
   When using Eirini, it is important to take into consideration:
  </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     If you are upgrading from SUSE Cloud Application Platform 2.0.1 to 2.1.0 and plan to convert
     from Diego to Eirini, please upgrade your Diego environment to SUSE Cloud Application Platform
     2.1.0 first and then migrate to Eirini as the earlier CAP versions relied a
     technical preview version of Eirini.
    </p><p>
     In this situation, your current applications relying on the
     <code class="literal">cflinuxfs3</code> stack need to be converted to the
     <code class="literal">sle15</code> stack. You can re-push your applications with
     <code class="command">cf push APP_NAME -s sle15</code> to do so, otherwise your
     applications will crash on Eirini.
    </p></li><li class="listitem "><p>
     Applications on Eirini will require slightly more memory than on Diego.
     From testing, add an additional 32 MB to your application's manifest. The
     increase may vary, depending on your application.
    </p></li><li class="listitem "><p>
     TCP routing is not available in Eirini deployments at this time.
    </p></li><li class="listitem "><p>
     Eirini requires the <code class="literal">k8s-metrics-server</code> to be installed
     on the Kubernetes environment where SUSE Cloud Application Platform is installed in order for
     Stratos Metrics to work.
    </p></li><li class="listitem "><p>
     Stratos Metrics will not show disk stats on Eirini.
    </p></li><li class="listitem "><p>
     When there is a Kubernetes outage, Eirini will not automatically restart
     applications upon its return. You will need to manually start them up at
     present.
    </p></li></ul></div></div><div class="sect1 " id="sec-cap-eirini-enable"><div class="titlepage"><div><div><h2 class="title"><span class="number">9.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Enabling Eirini</span> <a title="Permalink" class="permalink" href="cha-cap-depl-eirini.html#sec-cap-eirini-enable">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>cap_depl_eirini.xml</li><li><span class="ds-label">ID: </span>sec-cap-eirini-enable</li></ul></div></div></div></div><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     To enable Eirini, and disable Diego, add the following to your
     <code class="filename">kubecf-config-values.yaml</code> file.
    </p><div class="verbatim-wrap"><pre class="screen">features:
  eirini:
    enabled: true</pre></div><p>
     When Eirini is enabled, both <code class="literal">features.suse_default_stack</code>
     and <code class="literal">features.suse_buildpacks</code> must be enabled as well.
     A cflinuxfs3 Eirini image is currently not available, and the SUSE stack
     must be used. By default, both the SUSE stack and buildpacks are enabled. 
    </p><div id="id-1.3.4.9.5.2.1.4" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note</h6><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
        After enabling Eirini, you will still see the
        <code class="literal">diego-api</code> pod. This is normal behavior because the Diego pod has a component required by Eirini.
       </p></li><li class="listitem "><p>
        Eirini will only work on a cluster that has the parameter <code class="literal">--cluster-domain</code> set to <code class="literal">cluster.local</code>.
       </p></li></ul></div></div></li><li class="step "><p>
     Deploy <code class="literal">kubecf</code>.
    </p><p>
     Refer to the following for platform-specific instructions:
    </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
    For SUSE® CaaS Platform, see <a class="xref" href="cha-cap-depl-caasp.html" title="Chapter 4. Deploying SUSE Cloud Application Platform on SUSE CaaS Platform">Chapter 4, <em>Deploying SUSE Cloud Application Platform on SUSE CaaS Platform</em></a>.
   </p></li><li class="listitem "><p>
    For Microsoft Azure Kubernetes Service, see <a class="xref" href="cha-cap-depl-aks.html" title="Chapter 5. Deploying SUSE Cloud Application Platform on Microsoft Azure Kubernetes Service (AKS)">Chapter 5, <em>Deploying SUSE Cloud Application Platform on Microsoft Azure Kubernetes Service (AKS)</em></a>.
   </p></li><li class="listitem "><p>
    For Amazon Elastic Kubernetes Service, see <a class="xref" href="cha-cap-depl-eks.html" title="Chapter 6. Deploying SUSE Cloud Application Platform on Amazon Elastic Kubernetes Service (EKS)">Chapter 6, <em>Deploying SUSE Cloud Application Platform on Amazon Elastic Kubernetes Service (EKS)</em></a>.
   </p></li><li class="listitem "><p>
    For Google Kubernetes Engine, see <a class="xref" href="cha-cap-depl-gke.html" title="Chapter 7. Deploying SUSE Cloud Application Platform on Google Kubernetes Engine (GKE)">Chapter 7, <em>Deploying SUSE Cloud Application Platform on Google Kubernetes Engine (GKE)</em></a>.
   </p></li></ul></div></li><li class="step "><p>
     In order for Eirini to report application metrics, Metrics Server
     (link xlink:href="https://github.com/kubernetes-sigs/metrics-server"/&gt; must 
     be installed.
    </p><p>
     Note that <code class="literal">--kubelet-insecure-tls</code> is not recommended for
     production usage, but can be useful in test clusters with self-signed
     Kubelet serving certificates. For production, use
     <code class="literal">--tls-private-key-file</code>.
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>helm install <em class="replaceable ">metrics-server</em> stable/metrics-server --set args[0]="--kubelet-preferred-address-types=InternalIP" --set args[1]="--kubelet-insecure-tls"</pre></div></li></ol></div></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha-cap-depl-terraform.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 10 </span>Deploying SUSE Cloud Application Platform Using Terraform</span></a><a class="nav-link" href="cha-cap-install-stratos.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 8 </span>Installing the Stratos Web Console</span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2021 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>